### 单设备登录
  SDL（Single Device Login）是一种单设备登录的机制，它允许用户在同一时间只能在一个设备上登录，当用户在其他设备上登录时，之前登录的设备会被挤下线。

### 设计数据结构

```js
{
  id: {
    socket: ws实例;
    fingerprint: 浏览器指纹;
  }
}
```

1. 第一次登录的时候记录用户 id，并且记录 socket 信息，和浏览器指纹
2. 当有别的设备登录的时候发现之前已经连接过了，便使用旧的 socket 发送下线通知，并且关闭旧的 socket，更新 socket 替换成当前新设备的 ws 连接

### 浏览器指纹

指纹技术有很多种，这里采用 canvas 指纹技术

网站将这些颜色数值传递给一个算法，算法会对这些数据进行复杂的计算，生成一个唯一的标识。
由于用户使用的操作系统、浏览器、GPU、驱动程序会有差异，在绘制图形的时候会产生差异，这些细微的差异也就导致了生成的标识（哈希值）不一样。
因此，每一个用户都可以生成一个唯一的 Canvas 指纹
